---
interface WorkTypes {
  title: string;
  description: string;
  image: ImageType[];
  columns: number;
  color: string;
}

interface ImageType {
  url: string;
}

const { homePageTrabajos, baseUrl } = Astro.props;

const workDone = homePageTrabajos.section[0].trabajo;
---

<section id="trabajos" class="max-w-7xl m-auto mb-12">
  <h2 class="title-section">Trabajos Realizados</h2>

  <div
    class="flex mt-5 md:grid md:grid-cols-4 gap-3 mb-5 overflow-x-auto snap-x snap-mandatory md:snap-none"
  >
    {
      workDone.map(
        ({ title, description, image, color, columns }: WorkTypes) => (
          <div
            class:list={{
              "p-4 rounded-lg mx-3 md:mx-0 snap-center flex-none w-[80%] md:w-full": true,
              "md:col-span-1": columns === 1,
              "md:col-span-2": columns === 2,
              "md:col-span-3": columns === 3,
              "md:col-span-4": columns === 4,
              [`bg-principal-${color}`]: true,
            }}
          >
            <div class="info flex flex-col justify-between text-center gap-2">
              <h6 class="font-playfair text-xl font-semibold tracking-wider text-dorado">
                {title}
              </h6>
              <p class="font-inter font-extralight text-gris mb-3">
                {description}
              </p>
              <picture>
                <img
                  class="object-cover w-full h-80"
                  src={`${baseUrl}${image[0].url}`}
                  alt={`Cover of ${title}`}
                />
              </picture>
            </div>
          </div>
        )
      )
    }
  </div>

  <!-- Waiting for Trabajos Realizados single page... -->

  <!-- <div class="flex justify-center">
    <button
      class="mt-3 bg-dorado rounded-sm px-5 py-3 text-principal hover:bg-dorado hover:saturate-150 transition cursor-pointer font-inter font-medium text-sm"
      >Ver m√°s</button
    >
  </div> -->
</section>
